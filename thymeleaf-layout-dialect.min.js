!function(){"use strict";function t(t,n,e){return t.getAttribute(`${n}:${e}`)||t.getAttribute(`data-${n}-${e}`)}function n(t,n){let e=t.parentNode;e.insertBefore(n,t),e.removeChild(t)}function e(t,n){return n={exports:{}},t(n,n.exports),n.exports}function o(t,...n){return w.apply(null,[!0,t].concat(n))}function r(t){if(t.status>=200&&t.status<300)return t;{let n=new Error(`${t.status} - ${t.statusText}`);throw n.response=t,n}}function c(t,n={}){return fetch(t,o({headers:{Accept:"text/html"}},n)).then(r).then(t=>t.text())}function u(t,n={}){return c(t,n).then(t=>(new DOMParser).parseFromString(t,"text/html"))}const f="layout",i="fragment";class a{process(e,o){let{fragments}=e;if(fragments){let e=t(o,f,i),r=fragments[e];r&&n(o,r)}}}a.PROCESSOR_NAME=i;var l="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},s=e(function(t){!function(n,e){if(t.exports)t.exports=e();else{var o=e();Object.keys(o).forEach(function(t){n[t]=o[t]})}}(l,function(){return{$:function(t,n){return(n||document).querySelector(t)},$$:function(t,n){return Array.prototype.slice.call((n||document).querySelectorAll(t))}}})}),d=s.$$;const p="layout";class y{findFragments(n){let e={},o=d("[layout\\:fragment], [data-layout-fragment]",n);return o.map(n=>{let o=t(n,p,a.PROCESSOR_NAME);e[o]=n}),e}}var m=Object.prototype.hasOwnProperty,h=Object.prototype.toString,O=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===h.call(t)},E=function(t){if(!t||"[object Object]"!==h.call(t))return!1;var n=m.call(t,"constructor"),e=t.constructor&&t.constructor.prototype&&m.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!e)return!1;var o;for(o in t);return"undefined"==typeof o||m.call(t,o)},w=function t(){var n,e,o,r,c,u,f=arguments[0],i=1,a=arguments.length,l=!1;for("boolean"==typeof f?(l=f,f=arguments[1]||{},i=2):("object"!=typeof f&&"function"!=typeof f||null==f)&&(f={});i<a;++i)if(n=arguments[i],null!=n)for(e in n)o=f[e],r=n[e],f!==r&&(l&&r&&(E(r)||(c=O(r)))?(c?(c=!1,u=o&&O(o)?o:[]):u=o&&E(o)?o:{},f[e]=t(l,u,r)):"undefined"!=typeof r&&(f[e]=r));return f};const A="layout",S="decorate",b=/~\{(.+)\}/;class g{process(n,e){return new Promise(function(o,r){let c=t(e,A,S);c||(console.warn("No layout:decorate or data-layout-decorate attribute found on the <html> element"),o());let f=c.match(b),i=f[1];u(i).then(function(t){n.fragments=(new y).findFragments(e),document.open("text/html","replace"),document.write(t.firstElementChild.outerHTML),document.close(),document.addEventListener("DOMContentLoaded",o)}).catch(function(t){console.warn(`Unable to retrieve layout at ${t.response.url}`),o()})})}}g.PROCESSOR_NAME=S;document.addEventListener("DOMContentLoaded",function(){let t={};(new g).process(t,document.documentElement).then(function(){let n=`[layout\\:${a.PROCESSOR_NAME}], `+`[data-layout-${a.PROCESSOR_NAME}]`,e=d(n);e.forEach(n=>{(new a).process(t,n)})})})}();