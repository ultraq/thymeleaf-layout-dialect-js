!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _DecorateProcessor=__webpack_require__(1),_DecorateProcessor2=_interopRequireDefault(_DecorateProcessor),_FragmentProcessor=__webpack_require__(3),_FragmentProcessor2=_interopRequireDefault(_FragmentProcessor),_dumbQuerySelector=__webpack_require__(5);document.addEventListener("DOMContentLoaded",function(){let context={};(new _DecorateProcessor2.default).process(context,document.documentElement).then(function(){let selector=`[layout\\:${_FragmentProcessor2.default.PROCESSOR_NAME}],
\t\t                [data-layout-${_FragmentProcessor2.default.PROCESSOR_NAME}]`,fragmentsToProcess=(0,_dumbQuerySelector.$$)(selector);fragmentsToProcess.forEach(fragmentToProcess=>{(new _FragmentProcessor2.default).process(context,fragmentToProcess)})})})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _FragmentFinder=__webpack_require__(2),_FragmentFinder2=_interopRequireDefault(_FragmentFinder),_Dom=__webpack_require__(4),_Fetch=__webpack_require__(6);const DIALECT_PREFIX="layout",PROCESSOR_NAME="decorate",FRAGMENT_EXPRESSION=/~\{(.+)\}/;class DecorateProcessor{process(context,htmlEl){let layoutTemplateExpression=(0,_Dom.getThymeleafAttributeValue)(htmlEl,DIALECT_PREFIX,PROCESSOR_NAME);if(!layoutTemplateExpression)return void console.warn("No layout:decorate or data-layout-decorate attribute found on the <html> element");let layoutTemplateMatch=layoutTemplateExpression.match(FRAGMENT_EXPRESSION),layoutTemplateName=layoutTemplateMatch[1];return console.log(`Layout template: ${layoutTemplateName}`),(0,_Fetch.fetchHtmlAsDom)(layoutTemplateName).then(function(layoutTemplate){context.fragments=(new _FragmentFinder2.default).findFragments(htmlEl),(0,_Dom.replaceElement)(htmlEl,layoutTemplate.firstElementChild)})}}DecorateProcessor.PROCESSOR_NAME=PROCESSOR_NAME,exports.default=DecorateProcessor},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _FragmentProcessor=__webpack_require__(3),_FragmentProcessor2=_interopRequireDefault(_FragmentProcessor),_Dom=__webpack_require__(4),_dumbQuerySelector=__webpack_require__(5);const DIALECT_PREFIX="layout";class FragmentFinder{findFragments(element){let fragmentMap={},fragments=(0,_dumbQuerySelector.$$)("[layout\\:fragment], [data-layout-fragment]",element);return fragments.map(fragment=>{let fragmentName=(0,_Dom.getThymeleafAttributeValue)(fragment,DIALECT_PREFIX,_FragmentProcessor2.default.PROCESSOR_NAME);fragmentMap[fragmentName]=fragment}),fragmentMap}}exports.default=FragmentFinder},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _Dom=__webpack_require__(4);const DIALECT_PREFIX="layout",PROCESSOR_NAME="fragment";class FragmentProcessor{process(context,fragmentEl){let{fragments}=context,fragmentName=(0,_Dom.getThymeleafAttributeValue)(fragmentEl,DIALECT_PREFIX,PROCESSOR_NAME),matchingFragment=fragments[fragmentName];matchingFragment&&(0,_Dom.replaceElement)(fragmentEl,matchingFragment)}}FragmentProcessor.PROCESSOR_NAME=PROCESSOR_NAME,exports.default=FragmentProcessor},function(module,exports){"use strict";function getThymeleafAttributeValue(element,prefix,name){return element.getAttribute(`${prefix}:${name}`)||element.getAttribute(`data-${prefix}-${name}`)}function replaceElement(target,source){let parent=target.parentNode;for(;parent.firstChild;)parent.removeChild(parent.firstChild);parent.appendChild(source)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getThymeleafAttributeValue=getThymeleafAttributeValue,exports.replaceElement=replaceElement},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(global,factory){__WEBPACK_AMD_DEFINE_ARRAY__=[exports],__WEBPACK_AMD_DEFINE_FACTORY__=factory,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(this,function(exports){"use strict";function $(query){var scope=arguments.length<=1||void 0===arguments[1]?document:arguments[1];return scope.querySelector(query)}function $$(query){var scope=arguments.length<=1||void 0===arguments[1]?document:arguments[1];return Array.prototype.slice.call(scope.querySelectorAll(query))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.$=$,exports.$$=$$})},function(module,exports,__webpack_require__){"use strict";function checkStatus(response){if(response.status>=200&&response.status<300)return response;{let error=new Error(`${response.status} - ${response.statusText}`);throw error.response=response,error}}function fetchHtml(url,config={}){return fetch(url,(0,_Objects.merge)({headers:{Accept:"text/html"}},config)).then(checkStatus).then(response=>response.text())}function fetchHtmlAsDom(url,config={}){return fetchHtml(url,config).then(responseText=>(new DOMParser).parseFromString(responseText,"text/html"))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.fetchHtml=fetchHtml,exports.fetchHtmlAsDom=fetchHtmlAsDom;var _Objects=__webpack_require__(7)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function merge(target,...source){return _extend2.default.apply(null,[!0,target].concat(source))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.merge=merge;var _extend=__webpack_require__(8),_extend2=_interopRequireDefault(_extend)},function(module,exports){"use strict";var hasOwn=Object.prototype.hasOwnProperty,toStr=Object.prototype.toString,isArray=function(arr){return"function"==typeof Array.isArray?Array.isArray(arr):"[object Array]"===toStr.call(arr)},isPlainObject=function(obj){if(!obj||"[object Object]"!==toStr.call(obj))return!1;var hasOwnConstructor=hasOwn.call(obj,"constructor"),hasIsPrototypeOf=obj.constructor&&obj.constructor.prototype&&hasOwn.call(obj.constructor.prototype,"isPrototypeOf");if(obj.constructor&&!hasOwnConstructor&&!hasIsPrototypeOf)return!1;var key;for(key in obj);return"undefined"==typeof key||hasOwn.call(obj,key)};module.exports=function extend(){var options,name,src,copy,copyIsArray,clone,target=arguments[0],i=1,length=arguments.length,deep=!1;for("boolean"==typeof target?(deep=target,target=arguments[1]||{},i=2):("object"!=typeof target&&"function"!=typeof target||null==target)&&(target={});i<length;++i)if(options=arguments[i],null!=options)for(name in options)src=target[name],copy=options[name],target!==copy&&(deep&&copy&&(isPlainObject(copy)||(copyIsArray=isArray(copy)))?(copyIsArray?(copyIsArray=!1,clone=src&&isArray(src)?src:[]):clone=src&&isPlainObject(src)?src:{},target[name]=extend(deep,clone,copy)):"undefined"!=typeof copy&&(target[name]=copy));return target}}]);
//# sourceMappingURL=thymeleaf-layout-dialect.js.map